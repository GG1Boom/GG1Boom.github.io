---
title: Java网易云音乐评论爬取
date: 2021-01-14 16:49:21
tags: Java爬虫项目
categories: Java项目
---

#项目开发流程

* 首先简单了解下开发流程

  <!--more-->

![项目流程图](/images/2.1-1.svg)

* 针对网易云平台歌手的热门评论做爬虫需求：

  1.自动查询某个歌手的所有热门歌曲

  2.自动获取每一首歌的基础信息，专辑信息

  3.自动获取每一首歌的热门评论，最新评论

  4.对所有的热门评论进行统计形成词云



### API

找到一个获取歌手歌单信息的API

| **信息描述** | **信息说明**                                      |
| ------------ | ------------------------------------------------- |
| API地址      | http://neteaseapi.youkeda.com:3000/artists?id=xxx |
| 参数         | id-歌手id                                         |
| 请求方式     | GET                                               |



歌手id可以在网易云里面轻松找到



在浏览器中打开可以看到返回的json数据大致为：

```json
{
  "artist": {
    "img1v1Id": 109951163111191410,
    "topicPerson": 0,
    "alias": [
      "Jay Chou"
    ],
    "trans": "",
    "picUrl": "https://p1.music.126.net/ql3nSwy0XKow_HAoZzRZgw==/109951163111196186.jpg",
    "followed": false,
    "picId": 109951163111196200,
    "albumSize": 35,
    "briefDesc": "著名歌手，音乐人，词曲创作人，编曲及制作人，MV及电影导演。新世纪华语歌坛领军人物，中国风歌曲始祖，被时代周刊誉为“亚洲猫王”，是2000年后亚洲流行乐坛最具革命性与指标性的创作歌手，亚洲销量超过3100万张，有“亚洲流行天王”之称，开启华语乐坛“R&B时代”与“流行乐中国风”的先河，周杰伦的出现打破了亚洲流行乐坛长年停滞不前的局面，为亚洲流行乐坛翻开了新的一页，是华语乐坛真正把R&B提升到主流高度的人物，引领华语乐坛革命整十年，改写了华语乐坛的流行方向。",
    "musicSize": 488,
    "img1v1Url": "https://p1.music.126.net/o-FjCrUlhyFC96xiVvJZ8g==/109951163111191410.jpg",
    "name": "周杰伦",
    "id": 6452,
    "publishTime": 1516594084751,
    "picId_str": "109951163111196186",
    "img1v1Id_str": "109951163111191410",
    "mvSize": 8
  },
  "hotSongs": [
    ……
  ],
  "more": true,
  "code": 200
}
```

从返回结果中我们可以看出两个重要数据： 

1. artist 是歌手的歌单（也叫“专辑”，这里统一称歌单）数据，里面包含了歌手信息，歌手名称，别名，简介，歌曲书，专辑数等 

2. hotSongs 值的格式是：[]，表示歌曲数据集合。一个歌单包含一组歌曲。每个歌曲有id，名称等属性。

## 1.需求分析

根据api得到的json数据我们可以得到关键模型

* ```歌单```
* ```歌曲```

要完成数据的爬取，需要搭配的服务（定义操作，行为）是：

* 歌单服务```接口```
* 歌单服务```实现类```

```模型+服务```适合很多Java程序的场景，是一种通用的思路。



## 2.概要设计

概要设计阶段是完成```模型+服务```的整体结构。

